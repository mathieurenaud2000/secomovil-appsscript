<style>
  :root{
    --fix: 1;
    --radius: 40px;
    --font-mini: 12px;
    --font-body: 15px;
    --side: 50px;
    --gap: 12px;

    --black:#000;
    --white:#fff;
    --gray10: rgba(0,0,0,0.10);
    --gray20: rgba(0,0,0,0.20);
    --gray25: rgba(0,0,0,0.25);
  }

  html, body { margin:0; padding:0; font-family: Roboto, system-ui, -apple-system, "Segoe UI", Arial, sans-serif; background:#fff; overflow-x:hidden; box-sizing:border-box; }
  *, *::before, *::after { box-sizing:inherit; }
  *:focus { outline:none!important; box-shadow:none!important; }

  .wrapper { padding: 0 var(--side); }

  /* Entête */
  .page-top { height: calc(10px * var(--fix)); }
  .header-logo img{ display:block; width:100%; height:auto; object-fit:contain; margin:0 8px calc(10px * var(--fix)) 0; padding:0; }

  /* Boutons génériques sous la carte */
  .btn{
    width:100%; border-radius: var(--radius); border:5px solid #000;
    padding: calc(14px * var(--fix)) calc(16px * var(--fix));
    text-transform:uppercase; font-weight:700; line-height:0.95; letter-spacing:0.5px;
    display:flex; align-items:center; justify-content:center; cursor:pointer;
    margin: calc(var(--gap) * var(--fix)) 0; user-select:none;
    font-size: calc(var(--font-body) * var(--fix));
    background:#fff; color:#000;
  }
  .btn--white{ border-color:#000; }
  .btn--gray{ border-color: rgba(0,0,0,0.20); }
  .btn.is-waiting{ filter:brightness(0.95); }
  .btn--white.is-waiting,
  .btn--gray.is-waiting{ color: rgba(0,0,0,0.5); }

  /* Double bouton noir */
  .double-actions{
    display:grid; grid-template-columns: 1fr 1fr; gap:4px; margin:0;
    box-shadow:0 20px 40px rgba(0,0,0,0.40); border-radius:var(--radius);
  }
  .double-actions .half{
    background:#000; color:#fff; border:5px solid #000;
    display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
    padding: calc(10px * var(--fix)) calc(12px * var(--fix));
    text-align:center; text-transform:uppercase; font-weight:700; line-height:0.95; user-select:none;
    position:relative; overflow:hidden;
  }
  .double-actions .half--left{ border-top-left-radius: var(--radius); border-bottom-left-radius: var(--radius); border-top-right-radius:0; border-bottom-right-radius:0; }
  .double-actions .half--right{ border-top-right-radius: var(--radius); border-bottom-right-radius: var(--radius); border-top-left-radius:0; border-bottom-left-radius:0; }
  .double-actions .half img{ display:block; width:50%; height:auto; object-fit:contain; margin-bottom: calc(4px * var(--fix)); }
  .double-actions .half div{ font-size: calc(var(--font-body) * var(--fix)); }
  .double-actions .half.is-loading img,
  .double-actions .half.is-loading > div:not(.half-spinner){ visibility:hidden; }
  .double-actions .half .half-spinner{
    position:absolute; inset:0; display:none;
    align-items:center; justify-content:center;
    z-index:1;
  }
  .double-actions .half.is-loading .half-spinner{ display:flex; }
  .double-actions .half.is-loading{ background:#000; }
  .double-actions .half .half-spinner .spinner{
    border-color: rgba(255,255,255,0.3);
    border-top-color:#fff;
    width: calc(32px * var(--fix));
    height: calc(32px * var(--fix));
    border-width: calc(4px * var(--fix));
  }

  .sep-black{ height:5px; background:#000; border:0; margin: calc(var(--gap) * var(--fix)) 0; }

  /* ====== CARTE ====== */
  .card{
    background:#fff; border:5px solid #000; border-radius: var(--radius);
    box-shadow:0 20px 40px rgba(0,0,0,0.40);
    overflow:hidden; margin: calc(var(--gap) * var(--fix)) 0;
    user-select:none;

    display:grid;
    grid-template-rows: 1fr var(--actionsH);
    --actionsH: calc(50px * var(--fix));
    position:relative;
  }

  .card-main{ grid-row:1; }
  .card-top, .card-body{ padding: calc(10px * var(--fix)); }
  .card-top{
    display:grid; grid-template-columns:auto 1fr auto; align-items:start;
    border-bottom:0; padding:0;
  }
  .card-top .meta{ font-size:calc(var(--font-mini) * var(--fix)); color:#111; display:flex; align-items:center; }
  .card-top .heure{ padding: calc(10px * var(--fix)) calc(10px * var(--fix)) 0 calc(10px * var(--fix)); }
  .card-top .secteur{ padding: calc(10px * var(--fix)) 0 0 0; text-align:left; }
  .card-top .edit-cell{ padding: calc(10px * var(--fix)) calc(10px * var(--fix)) 0 0; }
  .card-top .edit-img{ display:block; height: calc(12px * var(--fix)); width:auto; object-fit:contain; }
  .card-top .edit-spinner{ display:none; height: calc(12px * var(--fix)); width: calc(12px * var(--fix)); }
  .card-top .edit-spinner .spinner{ width:100%; height:100%; border-width: calc(2px * var(--fix)); }
  .card-top .edit-cell.is-editloading .edit-img{ display:none; }
  .card-top .edit-cell.is-editloading .edit-spinner{ display:block; }

  .card-body{
    border-top:0; border-bottom:2px solid #000;
    padding-top: calc(10px * var(--fix)); padding-bottom: calc(10px * var(--fix));
  }
  .card-name{ font-weight:700; text-transform:uppercase; font-size:calc(var(--font-body) * var(--fix)); line-height:1.05; margin-bottom:calc(6px * var(--fix)); }
  .card-line{ font-size:calc(var(--font-mini) * var(--fix)); line-height:1.15; margin-bottom:calc(4px * var(--fix)); }
  .card-total{ font-size:calc(var(--font-mini) * var(--fix)); line-height:1.15; color:#000; margin-top: calc(4px * var(--fix)); }
  .card-total b{ font-weight:700; }

  /* CONFIRMATION + SUPPRIMÉ + LIVRÉ */
  .card-confirm,
  .card-deleted,
  .card-delivered{
    grid-row:1;
    display:none;
    padding: calc(12px * var(--fix)) calc(10px * var(--fix));
    text-align:center;
    border-bottom:2px solid #000;
  }

  /* Icônes pour DELETE + HEURE + LIVRAISON */
  .card-confirm-delete .icon,
  .card-confirm-time .icon,
  .card-confirm-delivery .icon{
    display:block; margin: 0 auto calc(2.5px * var(--fix));
    height: calc(34px * 1.25 * var(--fix));
    width:auto; object-fit:contain;
  }

  /* AJUSTEMENT DEMANDÉ : icône plus grande pour confirmation de livraison */
  .card-confirm-delivery .icon{
    height: calc(40px * 1.25 * var(--fix));
  }

  .card-confirm-delete .title,
  .card-confirm-delivery .title{
    font-weight:400;
    font-size: calc(var(--font-body) * var(--fix));
  }

  .card-confirm-time .title{
    font-weight:400;
    font-size: calc(26px * var(--fix));
  }

  .card.is-deleted .card-deleted{
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    border-bottom:0;
  }
  .card-deleted .icon{
    display:block; margin: 0 auto calc(10px * var(--fix));
    height: calc(34px * 2 * var(--fix)); width:auto; object-fit:contain;
  }
  .card-deleted .msg{
    font-size: calc(var(--font-body) * var(--fix));
    color:#000; font-weight:400;
  }

  .card.is-delivered .card-delivered{
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    border-bottom:0;
  }
  .card-delivered .icon{
    display:block; margin: 0 auto calc(10px * var(--fix));
    height: calc(34px * 2 * var(--fix)); width:auto; object-fit:contain;
  }
  .card-delivered .msg{
    font-size: calc(var(--font-body) * var(--fix));
    color:#000; font-weight:400;
  }

  .card.is-confirm .card-main,
  .card.is-timeconfirm .card-main,
  .card.is-deliveryconfirm .card-main{ display:none; }

  .card.is-confirm .card-confirm-delete,
  .card.is-timeconfirm .card-confirm-time,
  .card.is-deliveryconfirm .card-confirm-delivery{
    display:flex; flex-direction:column; align-items:center; justify-content:center;
  }

  .card.is-deleted .card-main,
  .card.is-deleted .card-confirm-delete,
  .card.is-deleted .card-confirm-time,
  .card.is-deleted .card-confirm-delivery{ display:none; }

  .card.is-delivered .card-main,
  .card.is-delivered .card-confirm-delete,
  .card.is-delivered .card-confirm-time,
  .card.is-delivered .card-confirm-delivery{ display:none; }

  .card-loading{
    position:absolute;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    background:#fff;
    z-index:5;
  }
  .card:not(.is-loading) .card-loading{ display:none; }
  .spinner{
    width: calc(42px * var(--fix));
    height: calc(42px * var(--fix));
    border-radius:50%;
    border: calc(5px * var(--fix)) solid rgba(0,0,0,0.1);
    border-top-color:#000;
    animation:spin 1s linear infinite;
  }
  .spinner--invert{
    border-color: rgba(255,255,255,0.3);
    border-top-color:#fff;
  }
  @keyframes spin{
    from{ transform:rotate(0deg); }
    to{ transform:rotate(360deg); }
  }

  /* Actions (ligne 2) */
  .card-actions{
    grid-row:2;
    display:flex; align-items:stretch; gap:0; height: var(--actionsH); padding:0;
    position:relative; background:#fff;
  }
  .card-actions > button{
    flex: 0 0 33.3333%; appearance:none; border:0; background:#fff; cursor:pointer;
    display:flex; align-items:center; justify-content:center; padding:0; position:relative;
  }
  .card-actions > button .action-spinner{
    position:absolute; inset:0; display:none; align-items:center; justify-content:center;
    pointer-events:none;
  }
  .card-actions > button .action-spinner .spinner{
    width: calc(30.6px * var(--fix));
    height: calc(30.6px * var(--fix));
    border-width: calc(4px * var(--fix));
    border-color: rgba(255,255,255,0.35);
    border-top-color: #fff;
  }
  .card-actions > button + button{ border-left:2px solid #000; }
  .card-actions .act-icon{ width:calc(34px * var(--fix)); height:auto; object-fit:contain; }
  .card-actions .act-icon.is-processing{ opacity:0.5; }

  .card-actions > button.is-processing{ background:#000 !important; }
  .card-actions > button.is-processing .act-icon{ visibility:hidden; opacity:0; }
  .card-actions > button.is-processing .action-spinner{ display:flex; }

  .card-actions .act--delete .act-icon{ width:calc(27.2px * var(--fix)); }
  .card-actions .act--delay  .act-icon{ width:calc(30.6px * var(--fix)); }
  .card-actions .act--confirm{ background:#000; color:#fff; }
  .card-actions .act--confirm .act-icon{ width:calc(30.6px * var(--fix)); }

  .card.is-confirm .card-actions .act--delay,
  .card.is-timeconfirm .card-actions .act--delay,
  .card.is-deliveryconfirm .card-actions .act--delay{ display:none; }

  .card.is-confirm .card-actions .act--confirm,
  .card.is-timeconfirm .card-actions .act--confirm,
  .card.is-deliveryconfirm .card-actions .act--confirm{
    flex: 0 0 66.6667%; background:#fff; color:#000;
  }

  .card.is-confirm .card-actions .act--delete,
  .card.is-timeconfirm .card-actions .act--delete,
  .card.is-deliveryconfirm .card-actions .act--delete{ background:#fff; }

  .card.is-deleted{
    --actionsH: calc(50px * 0.34 * var(--fix));
  }
  .card.is-deleted .card-actions > button{ display:none; }
  .card.is-deleted .card-actions::before{
    content:""; flex:1 1 auto; display:block; background:#fff;
  }
  .card.is-deleted .card-actions .arrow-grey{
    display:block;
  }

  .card.is-delivered{
    --actionsH: calc(50px * 0.34 * var(--fix));
  }
  .card.is-delivered .card-actions > button{ display:none; }
  .card.is-delivered .card-actions::before{
    content:""; flex:1 1 auto; display:block; background:#fff;
  }
  .card.is-delivered .card-actions .arrow-grey{ display:block; }
  .card.is-delivered .card-actions .check-grey-bottom{ display:none; }

  .card-actions .arrow-grey,
  .card-actions .check-grey-bottom{
    position:absolute; right: calc(10px * var(--fix)); bottom: calc(6px * var(--fix));
    width: calc(28px * var(--fix)); height:auto; object-fit:contain;
    display:none;
  }
  .check-grey-bottom{ filter: grayscale(1) brightness(0.6); }

  /* OVERLAY HEURES */
  .dd-overlay{
    position: fixed; inset: 0; background:#fff;
    display:none; z-index: 1000; overflow:auto;
  }
  .dd-overlay[data-open="true"]{ display:block; }

  .dd-overlay-list{
    list-style:none; margin:0; padding:0;
    font-size: calc(var(--font-body) * var(--fix));
  }
  .dd-overlay-list.grid3{
    display:grid; grid-template-columns: 1fr 1fr 1fr;
  }
  .dd-grid-option{
    display:flex; align-items:center; justify-content:center;
    min-height: calc(44px * var(--fix));
    padding: calc(12px * var(--fix)) calc(10px * var(--fix));
    border-bottom: 2px solid var(--gray20);
    cursor:pointer; text-align:center;
  }
  .dd-grid-option[data-col="2"],
  .dd-grid-option[data-col="3"]{
    border-left: 2px solid var(--gray20);
  }
  .dd-grid-option.placeholder{
    grid-column: 1/-1; color:var(--gray25);
  }
  .dd-grid-option.is-selected{
    background:#000;
    color:#fff;
  }
  .dd-grid-sep-black{
    grid-column: 1/-1; border-top:5px solid var(--black);
  }

</style>
<div class="wrapper">
  <div class="page-top"></div>
  <header class="header-logo">
    <img src="https://lh3.googleusercontent.com/d/18Wt7nLNgictTO4GjVLzytrd31ADjZ0qW" alt="Logo SecoMobil">
  </header>

  <section class="double-actions">
    <div class="half half--left" id="btnNuevoPedido">
      <img src="https://lh3.googleusercontent.com/d/1JD2tYd3TAtYAUEt56qEuvQpDeuoDEq2W" alt="Nuevo Pedido">
      <div>NUEVO</div><div>PEDIDO</div>
      <div class="half-spinner" aria-hidden="true"><div class="spinner spinner--invert" aria-label="Cargando"></div></div>
    </div>
    <div class="half half--right" id="btnVentaDirecta">
      <img src="https://lh3.googleusercontent.com/d/17J2imVibMPuqjlgH9sDLqrI087b5N5zX" alt="Venta Directa">
      <div>VENTA</div><div>DIRECTA</div>
      <div class="half-spinner" aria-hidden="true"><div class="spinner spinner--invert" aria-label="Cargando"></div></div>
    </div>
  </section>

  <div class="card" id="card1">

    <div class="card-main">
      <div class="card-top">
        <div class="heure meta" id="heureText">--:--</div>
        <div class="secteur meta" id="sectorText">–</div>
        <div class="edit-cell">
          <img class="edit-img" src="https://lh3.googleusercontent.com/d/1IJOPYYBICvweVK9rn2mQqckhfyQOHvrJ" alt="Éditer">
          <div class="edit-spinner" aria-hidden="true"><div class="spinner" aria-label="Cargando"></div></div>
        </div>
      </div>

      <div class="card-body">
        <div class="card-name" id="clienteText">—</div>
        <div class="card-line" id="direccionText">—</div>
        <div class="card-line" id="notaText"></div>
        <div class="card-total" id="extraText"></div>
      </div>
    </div>

    <!-- CONFIRM DELETE -->
    <div class="card-confirm card-confirm-delete">
      <img class="icon" src="https://lh3.googleusercontent.com/d/1NEwXtWZqpIJlto9dPs49xKhq3oOqwpXH" alt="Supprimer">
      <div class="title">Borrar pedido</div>
    </div>

    <!-- CONFIRM HEURE -->
    <div class="card-confirm card-confirm-time">
      <img class="icon" src="https://lh3.googleusercontent.com/d/1BPyjEt1b57naswgY9cD_kdmFoWg-6-sK" alt="Hora">
      <div class="title" id="timeConfirmTitle">12:30</div>
    </div>

    <!-- CONFIRM LIVRAISON (MODIFIÉ : ICÔNE AJOUTÉE + TAILLE AJUSTÉE) -->
    <div class="card-confirm card-confirm-delivery">
      <img class="icon" src="https://lh3.googleusercontent.com/d/10KDhCOjzY9fReyqolIQZoy9fbOfOJjW6" alt="Entregado">
      <div class="title">Pedido entregado</div>
    </div>

    <!-- ÉCRAN SUPPRIMÉ -->
    <div class="card-deleted">
      <img class="icon" src="https://lh3.googleusercontent.com/d/1ejYqmcRjgWxEfPf8TPAbwYYNv5ulYNAo" alt="OK">
      <div class="msg">Pedido borrado</div>
    </div>

    <!-- ÉCRAN LIVRÉ -->
    <div class="card-delivered">
      <img class="icon" src="https://lh3.googleusercontent.com/d/1ejYqmcRjgWxEfPf8TPAbwYYNv5ulYNAo" alt="OK">
      <div class="msg">Pedido entregado</div>
    </div>

    <div class="card-actions">
      <button type="button" class="act--delete" id="btnDel">
        <img class="act-icon" src="https://lh3.googleusercontent.com/d/1NEwXtWZqpIJlto9dPs49xKhq3oOqwpXH" alt="Supprimer">
      </button>

      <button type="button" class="act--delay" id="btnDelay">
        <img class="act-icon" src="https://lh3.googleusercontent.com/d/1BPyjEt1b57naswgY9cD_kdmFoWg-6-sK" alt="Reporter">
      </button>

      <button type="button" class="act--confirm" id="btnConfirm">
        <img class="act-icon" src="https://lh3.googleusercontent.com/d/1kIWQWxgpGWgRbdiBcm_X1BpwFZkUwX5l" alt="Confirmer">
        <div class="action-spinner" aria-hidden="true">
          <div class="spinner spinner--invert" aria-label="Cargando"></div>
        </div>
      </button>

      <img class="arrow-grey" src="https://lh3.googleusercontent.com/d/1or6tPZN2u4WpSsFBdx3SsM4HNGCWDcC7" alt="Continuer">
      <img class="check-grey-bottom" src="https://lh3.googleusercontent.com/d/1kIWQWxgpGWgRbdiBcm_X1BpwFZkUwX5l" alt="Entregado">
    </div>
    <div class="card-loading" id="cardLoading" aria-hidden="true"><div class="spinner" aria-label="Cargando"></div></div>
  </div>

  <div class="stack">
    <button class="btn btn--white" id="btnPedidosDelDia">PEDIDOS DEL DIA</button>
  </div>
  <div class="sep-black"></div>

  <div class="stack">
    <button class="btn btn--gray" id="btnRegistrarGasto">REGISTRAR GASTO</button>
    <button class="btn btn--gray" id="btnCerrarElDia">CERRAR EL DIA</button>
  </div>

  <div class="sep-black"></div>
  <div class="stack">
    <button class="btn btn--gray" id="btnConfiguracion">CONFIGURATION</button>
  </div>

  <div style="height: var(--side)"></div>
</div>

<div class="dd-overlay" id="ddOverlay">
  <div class="dd-overlay-inner">
    <ul class="dd-overlay-list grid3" id="ddOverlayList"></ul>
  </div>
</div>
